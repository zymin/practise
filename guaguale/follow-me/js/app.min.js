var Zepto = function () {
    function t(t) {
        return null == t ? t + "" : X[B.call(t)] || "object"
    }

    function e(e) {
        return"function" == t(e)
    }

    function n(t) {
        return null != t && t == t.window
    }

    function i(t) {
        return null != t && t.nodeType == t.DOCUMENT_NODE
    }

    function r(e) {
        return"object" == t(e)
    }

    function s(t) {
        return r(t) && !n(t) && Object.getPrototypeOf(t) == Object.prototype
    }

    function a(t) {
        return"number" == typeof t.length
    }

    function o(t) {
        return P.call(t, function (t) {
            return null != t
        })
    }

    function c(t) {
        return t.length > 0 ? C.fn.concat.apply([], t) : t
    }

    function u(t) {
        return t.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase()
    }

    function l(t) {
        return t in N ? N[t] : N[t] = RegExp("(^|\\s)" + t + "(\\s|$)")
    }

    function h(t, e) {
        return"number" != typeof e || A[u(t)] ? e : e + "px"
    }

    function f(t) {
        var e, n;
        return I[t] || (e = j.createElement(t), j.body.appendChild(e), n = getComputedStyle(e, "").getPropertyValue("display"), e.parentNode.removeChild(e), "none" == n && (n = "block"), I[t] = n), I[t]
    }

    function d(t) {
        return"children"in t ? S.call(t.children) : C.map(t.childNodes, function (t) {
            return 1 == t.nodeType ? t : void 0
        })
    }

    function p(t, e, n) {
        for (k in e)n && (s(e[k]) || G(e[k])) ? (s(e[k]) && !s(t[k]) && (t[k] = {}), G(e[k]) && !G(t[k]) && (t[k] = []), p(t[k], e[k], n)) : e[k] !== b && (t[k] = e[k])
    }

    function m(t, e) {
        return null == e ? C(t) : C(t).filter(e)
    }

    function v(t, n, i, r) {
        return e(n) ? n.call(t, i, r) : n
    }

    function g(t, e, n) {
        null == n ? t.removeAttribute(e) : t.setAttribute(e, n)
    }

    function y(t, e) {
        var n = t.className, i = n && n.baseVal !== b;
        return e === b ? i ? n.baseVal : n : void(i ? n.baseVal = e : t.className = e)
    }

    function w(t) {
        var e;
        try {
            return t ? "true" == t || ("false" == t ? !1 : "null" == t ? null : /^0/.test(t) || isNaN(e = Number(t)) ? /^[\[\{]/.test(t) ? C.parseJSON(t) : t : e) : t
        } catch (n) {
            return t
        }
    }

    function x(t, e) {
        e(t);
        for (var n in t.childNodes)x(t.childNodes[n], e)
    }

    var b, k, C, _, T, E, $ = [], S = $.slice, P = $.filter, j = window.document, I = {}, N = {}, A = {"column-count": 1, columns: 1, "font-weight": 1, "line-height": 1, opacity: 1, "z-index": 1, zoom: 1}, O = /^\s*<(\w+|!)[^>]*>/, L = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, D = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, M = /^(?:body|html)$/i, F = /([A-Z])/g, z = ["val", "css", "html", "text", "data", "width", "height", "offset"], R = ["after", "prepend", "before", "append"], Z = j.createElement("table"), H = j.createElement("tr"), q = {tr: j.createElement("tbody"), tbody: Z, thead: Z, tfoot: Z, td: H, th: H, "*": j.createElement("div")}, W = /complete|loaded|interactive/, V = /^[\w-]*$/, X = {}, B = X.toString, U = {}, Y = j.createElement("div"), J = {tabindex: "tabIndex", readonly: "readOnly", "for": "htmlFor", "class": "className", maxlength: "maxLength", cellspacing: "cellSpacing", cellpadding: "cellPadding", rowspan: "rowSpan", colspan: "colSpan", usemap: "useMap", frameborder: "frameBorder", contenteditable: "contentEditable"}, G = Array.isArray || function (t) {
        return t instanceof Array
    };
    return U.matches = function (t, e) {
        if (!e || !t || 1 !== t.nodeType)return!1;
        var n = t.webkitMatchesSelector || t.mozMatchesSelector || t.oMatchesSelector || t.matchesSelector;
        if (n)return n.call(t, e);
        var i, r = t.parentNode, s = !r;
        return s && (r = Y).appendChild(t), i = ~U.qsa(r, e).indexOf(t), s && Y.removeChild(t), i
    }, T = function (t) {
        return t.replace(/-+(.)?/g, function (t, e) {
            return e ? e.toUpperCase() : ""
        })
    }, E = function (t) {
        return P.call(t, function (e, n) {
            return t.indexOf(e) == n
        })
    }, U.fragment = function (t, e, n) {
        var i, r, a;
        return L.test(t) && (i = C(j.createElement(RegExp.$1))), i || (t.replace && (t = t.replace(D, "<$1></$2>")), e === b && (e = O.test(t) && RegExp.$1), e in q || (e = "*"), a = q[e], a.innerHTML = "" + t, i = C.each(S.call(a.childNodes), function () {
            a.removeChild(this)
        })), s(n) && (r = C(i), C.each(n, function (t, e) {
            z.indexOf(t) > -1 ? r[t](e) : r.attr(t, e)
        })), i
    }, U.Z = function (t, e) {
        return t = t || [], t.__proto__ = C.fn, t.selector = e || "", t
    }, U.isZ = function (t) {
        return t instanceof U.Z
    }, U.init = function (t, n) {
        var i;
        if (!t)return U.Z();
        if ("string" == typeof t)if (t = t.trim(), "<" == t[0] && O.test(t))i = U.fragment(t, RegExp.$1, n), t = null; else {
            if (n !== b)return C(n).find(t);
            i = U.qsa(j, t)
        } else {
            if (e(t))return C(j).ready(t);
            if (U.isZ(t))return t;
            if (G(t))i = o(t); else if (r(t))i = [t], t = null; else if (O.test(t))i = U.fragment(t.trim(), RegExp.$1, n), t = null; else {
                if (n !== b)return C(n).find(t);
                i = U.qsa(j, t)
            }
        }
        return U.Z(i, t)
    }, C = function (t, e) {
        return U.init(t, e)
    }, C.extend = function (t) {
        var e, n = S.call(arguments, 1);
        return"boolean" == typeof t && (e = t, t = n.shift()), n.forEach(function (n) {
            p(t, n, e)
        }), t
    }, U.qsa = function (t, e) {
        var n, r = "#" == e[0], s = !r && "." == e[0], a = r || s ? e.slice(1) : e, o = V.test(a);
        return i(t) && o && r ? (n = t.getElementById(a)) ? [n] : [] : 1 !== t.nodeType && 9 !== t.nodeType ? [] : S.call(o && !r ? s ? t.getElementsByClassName(a) : t.getElementsByTagName(e) : t.querySelectorAll(e))
    }, C.contains = function (t, e) {
        return t !== e && t.contains(e)
    }, C.type = t, C.isFunction = e, C.isWindow = n, C.isArray = G, C.isPlainObject = s, C.isEmptyObject = function (t) {
        var e;
        for (e in t)return!1;
        return!0
    }, C.inArray = function (t, e, n) {
        return $.indexOf.call(e, t, n)
    }, C.camelCase = T, C.trim = function (t) {
        return null == t ? "" : String.prototype.trim.call(t)
    }, C.uuid = 0, C.support = {}, C.expr = {}, C.map = function (t, e) {
        var n, i, r, s = [];
        if (a(t))for (i = 0; t.length > i; i++)n = e(t[i], i), null != n && s.push(n); else for (r in t)n = e(t[r], r), null != n && s.push(n);
        return c(s)
    }, C.each = function (t, e) {
        var n, i;
        if (a(t)) {
            for (n = 0; t.length > n; n++)if (e.call(t[n], n, t[n]) === !1)return t
        } else for (i in t)if (e.call(t[i], i, t[i]) === !1)return t;
        return t
    }, C.grep = function (t, e) {
        return P.call(t, e)
    }, window.JSON && (C.parseJSON = JSON.parse), C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (t, e) {
        X["[object " + e + "]"] = e.toLowerCase()
    }), C.fn = {forEach: $.forEach, reduce: $.reduce, push: $.push, sort: $.sort, indexOf: $.indexOf, concat: $.concat, map: function (t) {
        return C(C.map(this, function (e, n) {
            return t.call(e, n, e)
        }))
    }, slice: function () {
        return C(S.apply(this, arguments))
    }, ready: function (t) {
        return W.test(j.readyState) && j.body ? t(C) : j.addEventListener("DOMContentLoaded", function () {
            t(C)
        }, !1), this
    }, get: function (t) {
        return t === b ? S.call(this) : this[t >= 0 ? t : t + this.length]
    }, toArray: function () {
        return this.get()
    }, size: function () {
        return this.length
    }, remove: function () {
        return this.each(function () {
            null != this.parentNode && this.parentNode.removeChild(this)
        })
    }, each: function (t) {
        return $.every.call(this, function (e, n) {
            return t.call(e, n, e) !== !1
        }), this
    }, filter: function (t) {
        return e(t) ? this.not(this.not(t)) : C(P.call(this, function (e) {
            return U.matches(e, t)
        }))
    }, add: function (t, e) {
        return C(E(this.concat(C(t, e))))
    }, is: function (t) {
        return this.length > 0 && U.matches(this[0], t)
    }, not: function (t) {
        var n = [];
        if (e(t) && t.call !== b)this.each(function (e) {
            t.call(this, e) || n.push(this)
        }); else {
            var i = "string" == typeof t ? this.filter(t) : a(t) && e(t.item) ? S.call(t) : C(t);
            this.forEach(function (t) {
                0 > i.indexOf(t) && n.push(t)
            })
        }
        return C(n)
    }, has: function (t) {
        return this.filter(function () {
            return r(t) ? C.contains(this, t) : C(this).find(t).size()
        })
    }, eq: function (t) {
        return-1 === t ? this.slice(t) : this.slice(t, +t + 1)
    }, first: function () {
        var t = this[0];
        return t && !r(t) ? t : C(t)
    }, last: function () {
        var t = this[this.length - 1];
        return t && !r(t) ? t : C(t)
    }, find: function (t) {
        var e, n = this;
        return e = "object" == typeof t ? C(t).filter(function () {
            var t = this;
            return $.some.call(n, function (e) {
                return C.contains(e, t)
            })
        }) : 1 == this.length ? C(U.qsa(this[0], t)) : this.map(function () {
            return U.qsa(this, t)
        })
    }, closest: function (t, e) {
        var n = this[0], r = !1;
        for ("object" == typeof t && (r = C(t)); n && !(r ? r.indexOf(n) >= 0 : U.matches(n, t));)n = n !== e && !i(n) && n.parentNode;
        return C(n)
    }, parents: function (t) {
        for (var e = [], n = this; n.length > 0;)n = C.map(n, function (t) {
            return(t = t.parentNode) && !i(t) && 0 > e.indexOf(t) ? (e.push(t), t) : void 0
        });
        return m(e, t)
    }, parent: function (t) {
        return m(E(this.pluck("parentNode")), t)
    }, children: function (t) {
        return m(this.map(function () {
            return d(this)
        }), t)
    }, contents: function () {
        return this.map(function () {
            return S.call(this.childNodes)
        })
    }, siblings: function (t) {
        return m(this.map(function (t, e) {
            return P.call(d(e.parentNode), function (t) {
                return t !== e
            })
        }), t)
    }, empty: function () {
        return this.each(function () {
            this.innerHTML = ""
        })
    }, pluck: function (t) {
        return C.map(this, function (e) {
            return e[t]
        })
    }, show: function () {
        return this.each(function () {
            "none" == this.style.display && (this.style.display = ""), "none" == getComputedStyle(this, "").getPropertyValue("display") && (this.style.display = f(this.nodeName))
        })
    }, replaceWith: function (t) {
        return this.before(t).remove()
    }, wrap: function (t) {
        var n = e(t);
        if (this[0] && !n)var i = C(t).get(0), r = i.parentNode || this.length > 1;
        return this.each(function (e) {
            C(this).wrapAll(n ? t.call(this, e) : r ? i.cloneNode(!0) : i)
        })
    }, wrapAll: function (t) {
        if (this[0]) {
            C(this[0]).before(t = C(t));
            for (var e; (e = t.children()).length;)t = e.first();
            C(t).append(this)
        }
        return this
    }, wrapInner: function (t) {
        var n = e(t);
        return this.each(function (e) {
            var i = C(this), r = i.contents(), s = n ? t.call(this, e) : t;
            r.length ? r.wrapAll(s) : i.append(s)
        })
    }, unwrap: function () {
        return this.parent().each(function () {
            C(this).replaceWith(C(this).children())
        }), this
    }, clone: function () {
        return this.map(function () {
            return this.cloneNode(!0)
        })
    }, hide: function () {
        return this.css("display", "none")
    }, toggle: function (t) {
        return this.each(function () {
            var e = C(this);
            (t === b ? "none" == e.css("display") : t) ? e.show() : e.hide()
        })
    }, prev: function (t) {
        return C(this.pluck("previousElementSibling")).filter(t || "*")
    }, next: function (t) {
        return C(this.pluck("nextElementSibling")).filter(t || "*")
    }, html: function (t) {
        return 0 === arguments.length ? this.length > 0 ? this[0].innerHTML : null : this.each(function (e) {
            var n = this.innerHTML;
            C(this).empty().append(v(this, t, e, n))
        })
    }, text: function (t) {
        return 0 === arguments.length ? this.length > 0 ? this[0].textContent : null : this.each(function () {
            this.textContent = t === b ? "" : "" + t
        })
    }, attr: function (t, e) {
        var n;
        return"string" == typeof t && e === b ? 0 == this.length || 1 !== this[0].nodeType ? b : "value" == t && "INPUT" == this[0].nodeName ? this.val() : !(n = this[0].getAttribute(t)) && t in this[0] ? this[0][t] : n : this.each(function (n) {
            if (1 === this.nodeType)if (r(t))for (k in t)g(this, k, t[k]); else g(this, t, v(this, e, n, this.getAttribute(t)))
        })
    }, removeAttr: function (t) {
        return this.each(function () {
            1 === this.nodeType && g(this, t)
        })
    }, prop: function (t, e) {
        return t = J[t] || t, e === b ? this[0] && this[0][t] : this.each(function (n) {
            this[t] = v(this, e, n, this[t])
        })
    }, data: function (t, e) {
        var n = this.attr("data-" + t.replace(F, "-$1").toLowerCase(), e);
        return null !== n ? w(n) : b
    }, val: function (t) {
        return 0 === arguments.length ? this[0] && (this[0].multiple ? C(this[0]).find("option").filter(function () {
            return this.selected
        }).pluck("value") : this[0].value) : this.each(function (e) {
            this.value = v(this, t, e, this.value)
        })
    }, offset: function (t) {
        if (t)return this.each(function (e) {
            var n = C(this), i = v(this, t, e, n.offset()), r = n.offsetParent().offset(), s = {top: i.top - r.top, left: i.left - r.left};
            "static" == n.css("position") && (s.position = "relative"), n.css(s)
        });
        if (0 == this.length)return null;
        var e = this[0].getBoundingClientRect();
        return{left: e.left + window.pageXOffset, top: e.top + window.pageYOffset, width: Math.round(e.width), height: Math.round(e.height)}
    }, css: function (e, n) {
        if (2 > arguments.length) {
            var i = this[0], r = getComputedStyle(i, "");
            if (!i)return;
            if ("string" == typeof e)return i.style[T(e)] || r.getPropertyValue(e);
            if (G(e)) {
                var s = {};
                return C.each(G(e) ? e : [e], function (t, e) {
                    s[e] = i.style[T(e)] || r.getPropertyValue(e)
                }), s
            }
        }
        var a = "";
        if ("string" == t(e))n || 0 === n ? a = u(e) + ":" + h(e, n) : this.each(function () {
            this.style.removeProperty(u(e))
        }); else for (k in e)e[k] || 0 === e[k] ? a += u(k) + ":" + h(k, e[k]) + ";" : this.each(function () {
            this.style.removeProperty(u(k))
        });
        return this.each(function () {
            this.style.cssText += ";" + a
        })
    }, index: function (t) {
        return t ? this.indexOf(C(t)[0]) : this.parent().children().indexOf(this[0])
    }, hasClass: function (t) {
        return t ? $.some.call(this, function (t) {
            return this.test(y(t))
        }, l(t)) : !1
    }, addClass: function (t) {
        return t ? this.each(function (e) {
            _ = [];
            var n = y(this), i = v(this, t, e, n);
            i.split(/\s+/g).forEach(function (t) {
                C(this).hasClass(t) || _.push(t)
            }, this), _.length && y(this, n + (n ? " " : "") + _.join(" "))
        }) : this
    }, removeClass: function (t) {
        return this.each(function (e) {
            return t === b ? y(this, "") : (_ = y(this), v(this, t, e, _).split(/\s+/g).forEach(function (t) {
                _ = _.replace(l(t), " ")
            }), void y(this, _.trim()))
        })
    }, toggleClass: function (t, e) {
        return t ? this.each(function (n) {
            var i = C(this), r = v(this, t, n, y(this));
            r.split(/\s+/g).forEach(function (t) {
                (e === b ? !i.hasClass(t) : e) ? i.addClass(t) : i.removeClass(t)
            })
        }) : this
    }, scrollTop: function (t) {
        if (this.length) {
            var e = "scrollTop"in this[0];
            return t === b ? e ? this[0].scrollTop : this[0].pageYOffset : this.each(e ? function () {
                this.scrollTop = t
            } : function () {
                this.scrollTo(this.scrollX, t)
            })
        }
    }, scrollLeft: function (t) {
        if (this.length) {
            var e = "scrollLeft"in this[0];
            return t === b ? e ? this[0].scrollLeft : this[0].pageXOffset : this.each(e ? function () {
                this.scrollLeft = t
            } : function () {
                this.scrollTo(t, this.scrollY)
            })
        }
    }, position: function () {
        if (this.length) {
            var t = this[0], e = this.offsetParent(), n = this.offset(), i = M.test(e[0].nodeName) ? {top: 0, left: 0} : e.offset();
            return n.top -= parseFloat(C(t).css("margin-top")) || 0, n.left -= parseFloat(C(t).css("margin-left")) || 0, i.top += parseFloat(C(e[0]).css("border-top-width")) || 0, i.left += parseFloat(C(e[0]).css("border-left-width")) || 0, {top: n.top - i.top, left: n.left - i.left}
        }
    }, offsetParent: function () {
        return this.map(function () {
            for (var t = this.offsetParent || j.body; t && !M.test(t.nodeName) && "static" == C(t).css("position");)t = t.offsetParent;
            return t
        })
    }}, C.fn.detach = C.fn.remove, ["width", "height"].forEach(function (t) {
        var e = t.replace(/./, function (t) {
            return t[0].toUpperCase()
        });
        C.fn[t] = function (r) {
            var s, a = this[0];
            return r === b ? n(a) ? a["inner" + e] : i(a) ? a.documentElement["scroll" + e] : (s = this.offset()) && s[t] : this.each(function (e) {
                a = C(this), a.css(t, v(this, r, e, a[t]()))
            })
        }
    }), R.forEach(function (e, n) {
        var i = n % 2;
        C.fn[e] = function () {
            var e, r, s = C.map(arguments, function (n) {
                return e = t(n), "object" == e || "array" == e || null == n ? n : U.fragment(n)
            }), a = this.length > 1;
            return 1 > s.length ? this : this.each(function (t, e) {
                r = i ? e : e.parentNode, e = 0 == n ? e.nextSibling : 1 == n ? e.firstChild : 2 == n ? e : null, s.forEach(function (t) {
                    if (a)t = t.cloneNode(!0); else if (!r)return C(t).remove();
                    x(r.insertBefore(t, e), function (t) {
                        null == t.nodeName || "SCRIPT" !== t.nodeName.toUpperCase() || t.type && "text/javascript" !== t.type || t.src || window.eval.call(window, t.innerHTML)
                    })
                })
            })
        }, C.fn[i ? e + "To" : "insert" + (n ? "Before" : "After")] = function (t) {
            return C(t)[e](this), this
        }
    }), U.Z.prototype = C.fn, U.uniq = E, U.deserializeValue = w, C.zepto = U, C
}();
window.Zepto = Zepto, void 0 === window.$ && (window.$ = Zepto), function (t) {
    function e(t) {
        return t._zid || (t._zid = f++)
    }

    function n(t, n, s, a) {
        if (n = i(n), n.ns)var o = r(n.ns);
        return(v[e(t)] || []).filter(function (t) {
            return!(!t || n.e && t.e != n.e || n.ns && !o.test(t.ns) || s && e(t.fn) !== e(s) || a && t.sel != a)
        })
    }

    function i(t) {
        var e = ("" + t).split(".");
        return{e: e[0], ns: e.slice(1).sort().join(" ")}
    }

    function r(t) {
        return RegExp("(?:^| )" + t.replace(" ", " .* ?") + "(?: |$)")
    }

    function s(t, e) {
        return t.del && !y && t.e in w || !!e
    }

    function a(t) {
        return x[t] || y && w[t] || t
    }

    function o(n, r, o, c, l, f, d) {
        var p = e(n), m = v[p] || (v[p] = []);
        r.split(/\s/).forEach(function (e) {
            if ("ready" == e)return t(document).ready(o);
            var r = i(e);
            r.fn = o, r.sel = l, r.e in x && (o = function (e) {
                var n = e.relatedTarget;
                return!n || n !== this && !t.contains(this, n) ? r.fn.apply(this, arguments) : void 0
            }), r.del = f;
            var p = f || o;
            r.proxy = function (t) {
                if (t = u(t), !t.isImmediatePropagationStopped()) {
                    t.data = c;
                    var e = p.apply(n, t._args == h ? [t] : [t].concat(t._args));
                    return e === !1 && (t.preventDefault(), t.stopPropagation()), e
                }
            }, r.i = m.length, m.push(r), "addEventListener"in n && n.addEventListener(a(r.e), r.proxy, s(r, d))
        })
    }

    function c(t, i, r, o, c) {
        var u = e(t);
        (i || "").split(/\s/).forEach(function (e) {
            n(t, e, r, o).forEach(function (e) {
                delete v[u][e.i], "removeEventListener"in t && t.removeEventListener(a(e.e), e.proxy, s(e, c))
            })
        })
    }

    function u(e, n) {
        return(n || !e.isDefaultPrevented) && (n || (n = e), t.each(_, function (t, i) {
            var r = n[t];
            e[t] = function () {
                return this[i] = b, r && r.apply(n, arguments)
            }, e[i] = k
        }), (n.defaultPrevented !== h ? n.defaultPrevented : "returnValue"in n ? n.returnValue === !1 : n.getPreventDefault && n.getPreventDefault()) && (e.isDefaultPrevented = b)), e
    }

    function l(t) {
        var e, n = {originalEvent: t};
        for (e in t)C.test(e) || t[e] === h || (n[e] = t[e]);
        return u(n, t)
    }

    var h, f = 1, d = Array.prototype.slice, p = t.isFunction, m = function (t) {
        return"string" == typeof t
    }, v = {}, g = {}, y = "onfocusin"in window, w = {focus: "focusin", blur: "focusout"}, x = {mouseenter: "mouseover", mouseleave: "mouseout"};
    g.click = g.mousedown = g.mouseup = g.mousemove = "MouseEvents", t.event = {add: o, remove: c}, t.proxy = function (n, i) {
        if (p(n)) {
            var r = function () {
                return n.apply(i, arguments)
            };
            return r._zid = e(n), r
        }
        if (m(i))return t.proxy(n[i], n);
        throw new TypeError("expected function")
    }, t.fn.bind = function (t, e, n) {
        return this.on(t, e, n)
    }, t.fn.unbind = function (t, e) {
        return this.off(t, e)
    }, t.fn.one = function (t, e, n, i) {
        return this.on(t, e, n, i, 1)
    };
    var b = function () {
        return!0
    }, k = function () {
        return!1
    }, C = /^([A-Z]|returnValue$|layer[XY]$)/, _ = {preventDefault: "isDefaultPrevented", stopImmediatePropagation: "isImmediatePropagationStopped", stopPropagation: "isPropagationStopped"};
    t.fn.delegate = function (t, e, n) {
        return this.on(e, t, n)
    }, t.fn.undelegate = function (t, e, n) {
        return this.off(e, t, n)
    }, t.fn.live = function (e, n) {
        return t(document.body).delegate(this.selector, e, n), this
    }, t.fn.die = function (e, n) {
        return t(document.body).undelegate(this.selector, e, n), this
    }, t.fn.on = function (e, n, i, r, s) {
        var a, u, f = this;
        return e && !m(e) ? (t.each(e, function (t, e) {
            f.on(t, n, i, e, s)
        }), f) : (m(n) || p(r) || r === !1 || (r = i, i = n, n = h), (p(i) || i === !1) && (r = i, i = h), r === !1 && (r = k), f.each(function (h, f) {
            s && (a = function (t) {
                return c(f, t.type, r), r.apply(this, arguments)
            }), n && (u = function (e) {
                var i, s = t(e.target).closest(n, f).get(0);
                return s && s !== f ? (i = t.extend(l(e), {currentTarget: s, liveFired: f}), (a || r).apply(s, [i].concat(d.call(arguments, 1)))) : void 0
            }), o(f, e, r, i, n, u || a)
        }))
    }, t.fn.off = function (e, n, i) {
        var r = this;
        return e && !m(e) ? (t.each(e, function (t, e) {
            r.off(t, n, e)
        }), r) : (m(n) || p(i) || i === !1 || (i = n, n = h), i === !1 && (i = k), r.each(function () {
            c(this, e, i, n)
        }))
    }, t.fn.trigger = function (e, n) {
        return e = m(e) || t.isPlainObject(e) ? t.Event(e) : u(e), e._args = n, this.each(function () {
            "dispatchEvent"in this ? this.dispatchEvent(e) : t(this).triggerHandler(e, n)
        })
    }, t.fn.triggerHandler = function (e, i) {
        var r, s;
        return this.each(function (a, o) {
            r = l(m(e) ? t.Event(e) : e), r._args = i, r.target = o, t.each(n(o, e.type || e), function (t, e) {
                return s = e.proxy(r), r.isImmediatePropagationStopped() ? !1 : void 0
            })
        }), s
    }, "focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function (e) {
        t.fn[e] = function (t) {
            return t ? this.bind(e, t) : this.trigger(e)
        }
    }), ["focus", "blur"].forEach(function (e) {
        t.fn[e] = function (t) {
            return t ? this.bind(e, t) : this.each(function () {
                try {
                    this[e]()
                } catch (t) {
                }
            }), this
        }
    }), t.Event = function (t, e) {
        m(t) || (e = t, t = e.type);
        var n = document.createEvent(g[t] || "Events"), i = !0;
        if (e)for (var r in e)"bubbles" == r ? i = !!e[r] : n[r] = e[r];
        return n.initEvent(t, i, !0), u(n)
    }
}(Zepto), function (t) {
    function e(e, n, i) {
        var r = t.Event(n);
        return t(e).trigger(r, i), !r.isDefaultPrevented()
    }

    function n(t, n, i, r) {
        return t.global ? e(n || y, i, r) : void 0
    }

    function i(e) {
        e.global && 0 === t.active++ && n(e, null, "ajaxStart")
    }

    function r(e) {
        e.global && !--t.active && n(e, null, "ajaxStop")
    }

    function s(t, e) {
        var i = e.context;
        return e.beforeSend.call(i, t, e) === !1 || n(e, i, "ajaxBeforeSend", [t, e]) === !1 ? !1 : void n(e, i, "ajaxSend", [t, e])
    }

    function a(t, e, i, r) {
        var s = i.context, a = "success";
        i.success.call(s, t, a, e), r && r.resolveWith(s, [t, a, e]), n(i, s, "ajaxSuccess", [e, i, t]), c(a, e, i)
    }

    function o(t, e, i, r, s) {
        var a = r.context;
        r.error.call(a, i, e, t), s && s.rejectWith(a, [i, e, t]), n(r, a, "ajaxError", [i, r, t || e]), c(e, i, r)
    }

    function c(t, e, i) {
        var s = i.context;
        i.complete.call(s, e, t), n(i, s, "ajaxComplete", [e, i]), r(i)
    }

    function u() {
    }

    function l(t) {
        return t && (t = t.split(";", 2)[0]), t && (t == C ? "html" : t == k ? "json" : x.test(t) ? "script" : b.test(t) && "xml") || "text"
    }

    function h(t, e) {
        return"" == e ? t : (t + "&" + e).replace(/[&?]{1,2}/, "?")
    }

    function f(e) {
        e.processData && e.data && "string" != t.type(e.data) && (e.data = t.param(e.data, e.traditional)), !e.data || e.type && "GET" != e.type.toUpperCase() || (e.url = h(e.url, e.data), e.data = void 0)
    }

    function d(e, n, i, r) {
        return t.isFunction(n) && (r = i, i = n, n = void 0), t.isFunction(i) || (r = i, i = void 0), {url: e, data: n, success: i, dataType: r}
    }

    function p(e, n, i, r) {
        var s, a = t.isArray(n), o = t.isPlainObject(n);
        t.each(n, function (n, c) {
            s = t.type(c), r && (n = i ? r : r + "[" + (o || "object" == s || "array" == s ? n : "") + "]"), !r && a ? e.add(c.name, c.value) : "array" == s || !i && "object" == s ? p(e, c, i, n) : e.add(n, c)
        })
    }

    var m, v, g = 0, y = window.document, w = /<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, x = /^(?:text|application)\/javascript/i, b = /^(?:text|application)\/xml/i, k = "application/json", C = "text/html", _ = /^\s*$/;
    t.active = 0, t.ajaxJSONP = function (e, n) {
        if (!("type"in e))return t.ajax(e);
        var i, r, c = e.jsonpCallback, u = (t.isFunction(c) ? c() : c) || "jsonp" + ++g, l = y.createElement("script"), h = window[u], f = function (e) {
            t(l).triggerHandler("error", e || "abort")
        }, d = {abort: f};
        return n && n.promise(d), t(l).on("load error", function (s, c) {
            clearTimeout(r), t(l).off().remove(), "error" != s.type && i ? a(i[0], d, e, n) : o(null, c || "error", d, e, n), window[u] = h, i && t.isFunction(h) && h(i[0]), h = i = void 0
        }), s(d, e) === !1 ? (f("abort"), d) : (window[u] = function () {
            i = arguments
        }, l.src = e.url.replace(/\?(.+)=\?/, "?$1=" + u), y.head.appendChild(l), e.timeout > 0 && (r = setTimeout(function () {
            f("timeout")
        }, e.timeout)), d)
    }, t.ajaxSettings = {type: "GET", beforeSend: u, success: u, error: u, complete: u, context: null, global: !0, xhr: function () {
        return new window.XMLHttpRequest
    }, accepts: {script: "text/javascript, application/javascript, application/x-javascript", json: k, xml: "application/xml, text/xml", html: C, text: "text/plain"}, crossDomain: !1, timeout: 0, processData: !0, cache: !0}, t.ajax = function (e) {
        var n = t.extend({}, e || {}), r = t.Deferred && t.Deferred();
        for (m in t.ajaxSettings)void 0 === n[m] && (n[m] = t.ajaxSettings[m]);
        i(n), n.crossDomain || (n.crossDomain = /^([\w-]+:)?\/\/([^\/]+)/.test(n.url) && RegExp.$2 != window.location.host), n.url || (n.url = "" + window.location), f(n), n.cache === !1 && (n.url = h(n.url, "_=" + Date.now()));
        var c = n.dataType, d = /\?.+=\?/.test(n.url);
        if ("jsonp" == c || d)return d || (n.url = h(n.url, n.jsonp ? n.jsonp + "=?" : n.jsonp === !1 ? "" : "callback=?")), t.ajaxJSONP(n, r);
        var p, g = n.accepts[c], y = {}, w = function (t, e) {
            y[t.toLowerCase()] = [t, e]
        }, x = /^([\w-]+:)\/\//.test(n.url) ? RegExp.$1 : window.location.protocol, b = n.xhr(), k = b.setRequestHeader;
        if (r && r.promise(b), n.crossDomain || w("X-Requested-With", "XMLHttpRequest"), w("Accept", g || "*/*"), (g = n.mimeType || g) && (g.indexOf(",") > -1 && (g = g.split(",", 2)[0]), b.overrideMimeType && b.overrideMimeType(g)), (n.contentType || n.contentType !== !1 && n.data && "GET" != n.type.toUpperCase()) && w("Content-Type", n.contentType || "application/x-www-form-urlencoded"), n.headers)for (v in n.headers)w(v, n.headers[v]);
        if (b.setRequestHeader = w, b.onreadystatechange = function () {
            if (4 == b.readyState) {
                b.onreadystatechange = u, clearTimeout(p);
                var e, i = !1;
                if (b.status >= 200 && 300 > b.status || 304 == b.status || 0 == b.status && "file:" == x) {
                    c = c || l(n.mimeType || b.getResponseHeader("content-type")), e = b.responseText;
                    try {
                        "script" == c ? (1, eval)(e) : "xml" == c ? e = b.responseXML : "json" == c && (e = _.test(e) ? null : t.parseJSON(e))
                    } catch (s) {
                        i = s
                    }
                    i ? o(i, "parsererror", b, n, r) : a(e, b, n, r)
                } else o(b.statusText || null, b.status ? "error" : "abort", b, n, r)
            }
        }, s(b, n) === !1)return b.abort(), o(null, "abort", b, n, r), b;
        if (n.xhrFields)for (v in n.xhrFields)b[v] = n.xhrFields[v];
        var C = "async"in n ? n.async : !0;
        b.open(n.type, n.url, C, n.username, n.password);
        for (v in y)k.apply(b, y[v]);
        return n.timeout > 0 && (p = setTimeout(function () {
            b.onreadystatechange = u, b.abort(), o(null, "timeout", b, n, r)
        }, n.timeout)), b.send(n.data ? n.data : null), b
    }, t.get = function () {
        return t.ajax(d.apply(null, arguments))
    }, t.post = function () {
        var e = d.apply(null, arguments);
        return e.type = "POST", t.ajax(e)
    }, t.getJSON = function () {
        var e = d.apply(null, arguments);
        return e.dataType = "json", t.ajax(e)
    }, t.fn.load = function (e, n, i) {
        if (!this.length)return this;
        var r, s = this, a = e.split(/\s/), o = d(e, n, i), c = o.success;
        return a.length > 1 && (o.url = a[0], r = a[1]), o.success = function (e) {
            s.html(r ? t("<div>").html(e.replace(w, "")).find(r) : e), c && c.apply(s, arguments)
        }, t.ajax(o), this
    };
    var T = encodeURIComponent;
    t.param = function (t, e) {
        var n = [];
        return n.add = function (t, e) {
            this.push(T(t) + "=" + T(e))
        }, p(n, t, e), n.join("&").replace(/%20/g, "+")
    }
}
(Zepto), function (t) {
    t.fn.serializeArray = function () {
        var e, n = [];
        return t([].slice.call(this.get(0).elements)).each(function () {
            e = t(this);
            var i = e.attr("type");
            "fieldset" != this.nodeName.toLowerCase() && !this.disabled && "submit" != i && "reset" != i && "button" != i && ("radio" != i && "checkbox" != i || this.checked) && n.push({name: e.attr("name"), value: e.val()})
        }), n
    }, t.fn.serialize = function () {
        var t = [];
        return this.serializeArray().forEach(function (e) {
            t.push(encodeURIComponent(e.name) + "=" + encodeURIComponent(e.value))
        }), t.join("&")
    }, t.fn.submit = function (e) {
        if (e)this.bind("submit", e); else if (this.length) {
            var n = t.Event("submit");
            this.eq(0).trigger(n), n.isDefaultPrevented() || this.get(0).submit()
        }
        return this
    }
}(Zepto), function (t) {
    "__proto__"in{} || t.extend(t.zepto, {Z: function (e, n) {
        return e = e || [], t.extend(e, t.fn), e.selector = n || "", e.__Z = !0, e
    }, isZ: function (e) {
        return"array" === t.type(e) && "__Z"in e
    }});
    try {
        getComputedStyle(void 0)
    } catch (e) {
        var n = getComputedStyle;
        window.getComputedStyle = function (t) {
            try {
                return n(t)
            } catch (e) {
                return null
            }
        }
    }
}(Zepto), function (t, e) {
    function n(t) {
        return t.replace(/([a-z])([A-Z])/, "$1-$2").toLowerCase()
    }

    function i(t) {
        return r ? r + t : t.toLowerCase()
    }

    var r, s, a, o, c, u, l, h, f, d, p = "", m = {Webkit: "webkit", Moz: "", O: "o"}, v = window.document, g = v.createElement("div"), y = /^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i, w = {};
    t.each(m, function (t, n) {
        return g.style[t + "TransitionProperty"] !== e ? (p = "-" + t.toLowerCase() + "-", r = n, !1) : e
    }), s = p + "transform", w[a = p + "transition-property"] = w[o = p + "transition-duration"] = w[u = p + "transition-delay"] = w[c = p + "transition-timing-function"] = w[l = p + "animation-name"] = w[h = p + "animation-duration"] = w[d = p + "animation-delay"] = w[f = p + "animation-timing-function"] = "", t.fx = {off: r === e && g.style.transitionProperty === e, speeds: {_default: 400, fast: 200, slow: 600}, cssPrefix: p, transitionEnd: i("TransitionEnd"), animationEnd: i("AnimationEnd")}, t.fn.animate = function (n, i, r, s, a) {
        return t.isFunction(i) && (s = i, r = e, i = e), t.isFunction(r) && (s = r, r = e), t.isPlainObject(i) && (r = i.easing, s = i.complete, a = i.delay, i = i.duration), i && (i = ("number" == typeof i ? i : t.fx.speeds[i] || t.fx.speeds._default) / 1e3), a && (a = parseFloat(a) / 1e3), this.anim(n, i, r, s, a)
    }, t.fn.anim = function (i, r, p, m, v) {
        var g, x, b, k = {}, C = "", _ = this, T = t.fx.transitionEnd, E = !1;
        if (r === e && (r = t.fx.speeds._default / 1e3), v === e && (v = 0), t.fx.off && (r = 0), "string" == typeof i)k[l] = i, k[h] = r + "s", k[d] = v + "s", k[f] = p || "linear", T = t.fx.animationEnd; else {
            x = [];
            for (g in i)y.test(g) ? C += g + "(" + i[g] + ") " : (k[g] = i[g], x.push(n(g)));
            C && (k[s] = C, x.push(s)), r > 0 && "object" == typeof i && (k[a] = x.join(", "), k[o] = r + "s", k[u] = v + "s", k[c] = p || "linear")
        }
        return b = function (n) {
            if (n !== e) {
                if (n.target !== n.currentTarget)return;
                t(n.target).unbind(T, b)
            } else t(this).unbind(T, b);
            E = !0, t(this).css(w), m && m.call(this)
        }, r > 0 && (this.bind(T, b), setTimeout(function () {
            E || b.call(_)
        }, 1e3 * r + 25)), this.size() && this.get(0).clientLeft, this.css(k), 0 >= r && setTimeout(function () {
            _.each(function () {
                b.call(this)
            })
        }, 0), this
    }, g = null
}(Zepto), function (t) {
    t.fn.coffee = function (e) {
        function n() {
            var e = a(8, f.steamMaxSize), n = s(1, f.steamsFontFamily), i = "#" + s(6, "0123456789ABCDEF"), r = a(0, 44), c = a(-90, 89), u = o(.4, 1), h = t.fx.cssPrefix + "transform";
            h = h + ":rotate(" + c + "deg) scale(" + u + ");";
            var m = t('<span class="coffee-steam">' + s(1, f.steams) + "</span>"), v = a(0, d - f.steamWidth - e);
            v > r && (v = a(0, r)), m.css({position: "absolute", left: r, top: f.steamHeight, "font-size:": e + "px", color: i, "font-family": n, display: "block", opacity: 1}).attr("style", m.attr("style") + h).appendTo(p).animate({top: a(f.steamHeight / 2, 0), left: v, opacity: 0}, a(f.steamFlyTime / 2, 1.2 * f.steamFlyTime), l, function () {
                m.remove(), m = null
            })
        }

        function r() {
            var t = a(-10, 10);
            t += parseInt(p.css("left")), t >= 74 ? t = 74 : 54 >= t && (t = 54), p.animate({left: t}, a(1e3, 3e3), l)
        }

        function s(t, e) {
            t = t || 1;
            var n = "", r = e.length - 1, s = 0;
            for (i = 0; t > i; i++)s = a(0, r - 1), n += e.slice(s, s + 1);
            return n
        }

        function a(t, e) {
            var n = e - t, i = t + Math.round(Math.random() * n);
            return parseInt(i)
        }

        function o(t, e) {
            var n = e - t, i = t + Math.random() * n;
            return parseFloat(i)
        }

        var c = null, u = null, l = "cubic-bezier(.09,.64,.16,.94)", h = t(this), f = t.extend({}, t.fn.coffee.defaults, e), d = f.steamWidth, p = t('<div class="coffee-steam-box"></div>').css({height: f.steamHeight, width: f.steamWidth, left: 60, top: -92, position: "absolute", overflow: "hidden", "z-index": 0}).appendTo(h);
        return t.fn.coffee.stop = function () {
            clearInterval(c), clearInterval(u)
        }, t.fn.coffee.start = function () {
            c = setInterval(function () {
                n()
            }, a(f.steamInterval / 2, 2 * f.steamInterval)), u = setInterval(function () {
                r()
            }, a(100, 1e3) + a(1e3, 3e3))
        }, h
    }, t.fn.coffee.defaults = {steams: ["jQuery", "HTML5", "HTML6", "CSS2", "CSS3", "JS", "$.fn()", "char", "short", "if", "float", "else", "type", "case", "function", "travel", "return", "array()", "empty()", "eval", "C++", "JAVA", "PHP", "JSP", ".NET", "while", "this", "$.find();", "float", "$.ajax()", "addClass", "width", "height", "Click", "each", "animate", "cookie", "bug", "Design", "Julying", "$(this)", "i++", "Chrome", "Firefox", "Firebug", "IE6", "Guitar", "Music", "攻城师", "旅行", "王子墨", "啤酒"], steamsFontFamily: ["Verdana", "Geneva", "Comic Sans MS", "MS Serif", "Lucida Sans Unicode", "Times New Roman", "Trebuchet MS", "Arial", "Courier New", "Georgia"], steamFlyTime: 5e3, steamInterval: 500, steamMaxSize: 30, steamHeight: 200, steamWidth: 300}, t.fn.coffee.version = "2.0.0"
}(Zepto), function () {
    function t(t) {
        this.click = "ontouchstart"in window ? "touchstart" : "click", this.setInter = null, this.setInterOne = null, this.setInterTwo = null, this.setInterThree = null, this.touchNum = 0, this.touchFinish = !1;
        for (i in t)this[i] = t[i]
    }

    t.prototype = {init: function () {
        var t = this;
        this.circle1.on(this.click, function () {
            t.touchNum += 1, $(this).hide(), t.maskAnimationTwo(t, 4, 3, 12, 60, function () {
                t.maskAnimationBack(t)
            })
        }), this.circle2.on(this.click, function () {
            t.touchNum += 1, $(this).hide(), t.maskAnimationOne(t, 4, 3, 12, 60, function () {
                t.maskAnimationBack(t)
            })
        }), this.circle3.on(this.click, function () {
            t.touchNum += 1, $(this).hide(), t.maskAnimationThree(t, 4, 3, 12, 60, function () {
                t.maskAnimationBack(t)
            })
        })
    }, maskAnimationBack: function (t) {
        t.touchNum >= 3 && !t.touchFinish && (t.touchFinish = !0, t.touchFinish && t.touchFinishCb.call(t), t.maskAnimation(t, 4, 5, 20, 80, function () {
            t.mask.find(".touch-1").hide(), t.mask.find(".touch-2").hide(), t.mask.find(".touch-3").hide(), t.mask.find(".touch-4").css("-webkit-mask", "none!importnat")
        }))
    }, maskAnimationOne: function (t, e, n, i, r, s) {
        clearInterval(t.setInterOne);
        var a = _y_a = _i_a = 0;
        t.setInterOne = setInterval(function () {
            a >= e && (a = 0, _y_a = _y_a >= n ? 0 : _y_a += 1), t.mask.find(".touch-1").css("-webkit-mask-position", 640 * -a + "px " + -_y_a * $(window).height() + "px"), a += 1, _i_a++, _i_a >= i && (clearInterval(t.setInterOne), s())
        }, r)
    }, maskAnimationTwo: function (t, e, n, i, r, s) {
        clearInterval(t.setInterTwo);
        var a = _y_b = _i_b = 0;
        t.setInterTwo = setInterval(function () {
            a >= e && (a = 0, _y_b = _y_b >= n ? 0 : _y_b += 1), t.mask.find(".touch-2").css("-webkit-mask-position", 640 * -a + "px " + -_y_b * $(window).height() + "px"), a += 1, _i_b++, _i_b >= i && (clearInterval(t.setInterTwo), s())
        }, r)
    }, maskAnimationThree: function (t, e, n, i, r, s) {
        clearInterval(t.setInterThree);
        var a = _y_c = _i_c = 0;
        t.setInterThree = setInterval(function () {
            a >= e && (a = 0, _y_c = _y_c >= n ? 0 : _y_c += 1), t.mask.find(".touch-3").css("-webkit-mask-position", 640 * -a - 20 + "px " + -_y_c * $(window).height() + "px"), a += 1, _i_c++, _i_c >= i && (clearInterval(t.setInterThree), s())
        }, r)
    }, maskAnimation: function (t, e, n, i, r, s) {
        clearInterval(t.setInter);
        var a = _y = _i = 0;
        t.setInter = setInterval(function () {
            a >= e && (a = 0, _y = _y >= n ? 0 : _y += 1), t.mask.find(".touch-4").css("-webkit-mask-position", 640 * -a + "px " + -_y * $(window).height() + "px"), a += 1, _i++, _i >= i && (clearInterval(t.setInter), s())
        }, r)
    }}, window.Mask = t
}(), function (t) {
    function e(t, e) {
        this.conNode = t, this.background = null, this.backCtx = null, this.mask = null, this.maskCtx = null, this.lottery = null, this.lotteryType = "image", this.cover = e.cover || "#000", this.coverType = e.coverType, this.pixlesData = null, this.width = e.width, this.height = e.height, this.lastPosition = null, this.lineWidth = e.lineWidth || 50, this.drawPercentCallback = e.callback, this.success = e.success || function () {
        }, this.cbdelay = e.cbdelay || 0, this.vail = !1
    }

    e.prototype = {createElement: function (t, e) {
        var n = document.createElement(t);
        for (var i in e)n.setAttribute(i, e[i]);
        return n
    }, getTransparentPercent: function (t, e, n) {
        for (var i = t.getImageData(0, 0, e, n), r = i.data, s = [], a = 0, o = r.length; o > a; a += 4) {
            var c = r[a + 3];
            128 > c && s.push(a)
        }
        return(100 * (s.length / (r.length / 4))).toFixed(2)
    }, resizeCanvas: function (t, e, n) {
        t.width = e, t.height = n, t.getContext("2d").clearRect(0, 0, e, n)
    }, resizeCanvas_w: function (t, e, n) {
        t.width = e, t.height = n, t.getContext("2d").clearRect(0, 0, e, n), this.vail ? this.drawLottery() : this.drawMask()
    }, drawPoint: function (t, e) {
        this.maskCtx.beginPath(), this.maskCtx.arc(t, e, this.lineWidth, 0, 2 * Math.PI), this.maskCtx.fill(), this.maskCtx.beginPath(), this.maskCtx.lineWidth = 2 * this.lineWidth, this.maskCtx.lineCap = this.maskCtx.lineJoin = "round", this.lastPosition && this.maskCtx.moveTo(this.lastPosition[0], this.lastPosition[1]), this.maskCtx.lineTo(t, e), this.maskCtx.stroke(), this.lastPosition = [t, e], this.mask.style.zIndex = 20 == this.mask.style.zIndex ? 21 : 20
    }, bindEvent: function () {
        var t = this, e = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()), n = e ? "touchstart" : "mousedown", i = e ? "touchmove" : "mousemove";
        if (e)t.conNode.addEventListener("touchmove", function (t) {
            r && t.preventDefault(), t.cancelable ? t.preventDefault() : window.event.returnValue = !1
        }, !1), t.conNode.addEventListener("touchend", function () {
            r = !1;
            var e = t.getTransparentPercent(t.maskCtx, t.width, t.height);
            "function" == typeof t.drawPercentCallback && (t.timeFlag = setTimeout(function () {
                t.drawPercentCallback.call(t.mask, e)
            }, t.cbdelay))
        }, !1); else {
            var r = !1;
            t.conNode.addEventListener("mouseup", function (e) {
                e.preventDefault(), r = !1;
                var n = t.getTransparentPercent(t.maskCtx, t.width, t.height);
                "function" == typeof t.drawPercentCallback && (t.timeFlag = setTimeout(function () {
                    t.drawPercentCallback.call(t.mask, n)
                }, t.cbdelay))
            }, !1)
        }
        this.mask.addEventListener(n, function (n) {
            t.timeFlag && clearTimeout(t.timeFlag), n.preventDefault(), r = !0;
            var i = e ? n.touches[0].pageX : n.pageX || n.x, s = e ? n.touches[0].pageY : n.pageY || n.y;
            t.drawPoint(i, s, r)
        }, !1), this.mask.addEventListener(i, function (n) {
            if (n.preventDefault(), !r)return!1;
            n.preventDefault();
            var i = e ? n.touches[0].pageX : n.pageX || n.x, s = e ? n.touches[0].pageY : n.pageY || n.y;
            t.drawPoint(i, s, r)
        }, !1)
    }, drawLottery: function () {
        if ("image" == this.lotteryType) {
            var t = new Image, e = this;
            t.onload = function () {
                this.width = e.width, this.height = e.height, e.resizeCanvas(e.background, e.width, e.height), e.backCtx.drawImage(this, 0, 0, e.width, e.height), e.drawMask()
            }, t.src = this.lottery
        } else if ("text" == this.lotteryType) {
            this.width = this.width, this.height = this.height, this.resizeCanvas(this.background, this.width, this.height), this.backCtx.save(), this.backCtx.fillStyle = "#FFF", this.backCtx.fillRect(0, 0, this.width, this.height), this.backCtx.restore(), this.backCtx.save();
            var n = 30;
            this.backCtx.font = "Bold " + n + "px Arial", this.backCtx.textAlign = "center", this.backCtx.fillStyle = "#F60", this.backCtx.fillText(this.lottery, this.width / 2, this.height / 2 + n / 2), this.backCtx.restore(), this.drawMask()
        }
    }, drawMask: function () {
        if ("color" == this.coverType)this.maskCtx.fillStyle = this.cover, this.maskCtx.fillRect(0, 0, this.width, this.height), this.maskCtx.globalCompositeOperation = "destination-out"; else if ("image" == this.coverType) {
            var e = new Image, n = this;
            e.onload = function () {
                n.resizeCanvas(n.mask, n.width, n.height), /android/i.test(navigator.userAgent.toLowerCase()), n.maskCtx.globalAlpha = .98, n.maskCtx.drawImage(this, 0, 0, this.width, this.height, 0, 0, n.width, n.height);
                var e = 50, i = t("#ca-tips").val(), r = n.maskCtx.createLinearGradient(0, 0, n.width, 0);
                r.addColorStop("0", "#fff"), r.addColorStop("1.0", "#000"), n.vail && (n.maskCtx.font = "Bold " + e + "px Arial", n.maskCtx.textAlign = "left", n.maskCtx.fillStyle = r, n.maskCtx.fillText(i, n.width / 2 - n.maskCtx.measureText(i).width / 2, 100), n.maskCtx.globalAlpha = 1), n.maskCtx.globalCompositeOperation = "destination-out"
            }, e.src = this.cover
        }
        this.success.call(this)
    }, init: function (t, e) {
        t && (this.lottery = t, this.lottery.width = this.width, this.lottery.height = this.height, this.lotteryType = e || "image", this.vail = !0), this.vail && (this.background = this.background || this.createElement("canvas", {style: "position:fixed;left:50%;top:0;width:640px;margin-left:-320px;height:100%;background-color:transparent;"})), this.mask = this.mask || this.createElement("canvas", {style: "position:fixed;left:50%;top:0;width:640px;margin-left:-320px;height:100%;background-color:transparent;"}), this.mask.style.zIndex = 20, this.conNode.innerHTML.replace(/[\w\W]| /g, "") || (this.vail && this.conNode.appendChild(this.background), this.conNode.appendChild(this.mask), this.bindEvent()), this.vail && (this.backCtx = this.backCtx || this.background.getContext("2d")), this.maskCtx = this.maskCtx || this.mask.getContext("2d"), this.vail ? this.drawLottery() : this.drawMask();
        var n = this;
        window.addEventListener("resize", function () {
            n.width = document.documentElement.clientWidth, n.height = document.documentElement.clientHeight, n.resizeCanvas_w(n.mask, n.width, n.height)
        }, !1)
    }}, (window.jQuery || window.Zepto) && function (t) {
        t.fn.lottery = function (n) {
            return this.each(function () {
                t(this).data("lottery", new e(this, n).init())
            })
        }
    }(window.jQuery || window.Zepto)
}(Zepto || jQuery), function () {
    function t(t, e) {
        if (this.el = "string" == typeof t ? document.querySelector(t) : t, this.slides = this.el.querySelectorAll("li"), this.isVertical = "vertical" == e.dir ? !0 : !1, this.cur = e.cur, this.initSuccess = e.initSuccess || function () {
        }, this.success = e.success || function () {
        }, this.preventLoop = e.preventLoop, !(2 > this.slides.length)) {
            if (!this.el)throw Error("element is not defined..");
            this.init()
        }
    }

    var e = {addEvent: function (t, e, n, i) {
        t.addEventListener(e, n, !!i)
    }, removeEvent: function (t, e, n, i) {
        t.removeEventListener(e, n, !!i)
    }, winW: $(window).width(), winH: $(window).height(), noop: function () {
    }}, n = window.Modernizr && Modernizr.touch === !0 || function () {
        return!!("ontouchstart"in window || window.DocumentTouch && document instanceof DocumentTouch)
    }(), i = {start: n ? "touchstart" : "mousedown", move: n ? "touchmove" : "mousemove", end: n ? "touchend" : "mouseup"};
    t.prototype = {init: function () {
        $(this.slides[this.cur]).addClass("cur"), e.addEvent(this.el, i.start, this), this.initSuccess.call(this.el)
    }, start: function (t) {
        if ("A" != t.target.tagName) {
            if (this.moving)return t.preventDefault(), !1;
            var r = n ? t.touches[0] : t;
            this.data = {startX: r.pageX, startY: r.pageY, distX: 0, distY: 0, time: +new Date},
                e.addEvent(this.el, i.move, this), e.addEvent(this.el, i.end, this)
        }
    }, move: function (t) {
        var i = n ? t.touches[0] : t, r = this.data;
        r.distX = i.pageX - r.startX, r.distY = i.pageY - r.startY, this.translate(this.isVertical ? r.distY : r.distX, this.isVertical ? e.winH : e.winW), t.preventDefault()
    }, end: function () {
        this.isReverseDir || this.animate(), e.removeEvent(this.el, i.move, this), e.removeEvent(this.el, i.end, this)
    }, reset: function () {
        console.log("reset")
    }, animate: function () { 
        var t = this, n = this.data, i = +new Date - n.time;
        curObj = $(this.slides[this.cur]), nextObj = $(this.nextSlide), isRevert = 50 > i || 60 > Math.abs(this.getDisValue(n.distX, n.distY)), $(this.nextSlide).addClass("animated"), curObj.addClass("animated"), this.isVertical ? this.translate((n.distY > 0 ? 1 : -1) * e.winH, e.winH, isRevert) : this.translate((n.distX > 0 ? 1 : -1) * e.winW, e.winW, isRevert), this.moving = !0, setTimeout(function () {
            t.moving = !1, (isRevert ? curObj : nextObj).removeAttr("style").attr("class", "cur").siblings().removeAttr("style").removeAttr("class"), isRevert || (t.cur = t.nextIndex, t.success.call(t))
        }, 300)
    }, getDisValue: function (t, e) {
        return this.isVertical ? e : t
    }, translate: function (t, e, n) {
        var i = this.isVertical, r = this.slides.length, s = 0 > t ? 1 : -1, a = function (r) {
            var a = r || s * e + (n ? 0 : t);
            return i ? "0, " + a + "px" : a + "px, 0"
        }, o = this.cur + s, c = n ? 1 : (1 - Math.abs(.2 * t / e)).toFixed(6), u = a((-s * e * (1 - c) / 2).toFixed(6));
        return this.isReverseDir = !1, this.preventLoop && t > 0 ? (this.isReverseDir = !0, void 0) : (0 > o && (o += r), o > r - 1 && (o = 0), this.nextIndex = o, this.nextSlide = this.slides[o], $(this.slides[o]).addClass("action").siblings().removeClass("action"), this.nextSlide.style.webkitTransform = "translate(" + a() + ")", this.slides[this.cur].style.webkitTransform = "translate(" + u + ") scale(" + c + ")", void 0)
    }, handleEvent: function (t) {
        switch (t.type) {
            case"touchstart":
            case"mousedown":
                this.start(t);
                break;
            case"touchmove":
            case"mousemove":
                this.move(t);
                break;
            case"touchend":
            case"mouseup":
                this.end(t)
        }
    }}, window.Swipe = t, $.fn.swipe = function (e) {
        var n = {cur: 0, dir: "vertical"};
        return this.each(function () {
            return $(this).data("swipe", new t(this, $.extend(n, e))), this
        })
    }
}(), function () {
    function t(t, e, n) {
        this.el = t, this.callback = n || function () {
        }, this.isPlay = !0, this.isCoffee = t.hasClass("btn_music"), this.init(), this.isCoffee && e.coffee({steams: ['<i class="ico_music"></i>', '<i class="ico_music"></i>', '<i class="ico_music"></i>', '<i class="ico_music"></i>', '<i class="ico_music"></i>', '<i class="ico_music"></i>'], steamHeight: 100, steamWidth: 50})
    }

    function e(t, e, n) {
        this.el = t, this.init(e, n)
    }

    t.prototype = {init: function () {
        var t = this, e = {loop: !0, preload: "auto", src: this.el.attr("data-src")};
        this._audio = new Audio, $(this._audio).on({canplay: function () {
            t.callback.call(t, !0)
        }, error: function (e) {
            t.callback.call(t, !1, e)
        }});
        try {
            for (var n in e)e.hasOwnProperty(n) && n in this._audio && (this._audio[n] = e[n])
        } catch (i) {
            this.callback.call(t, !1, i)
        }
        this.el.on("click", function () {
            t._play()
        })
    }, _play: function () {
        var t = this.el.prev()[0];
        this.isPlay ? (this._audio.pause(), this.el.removeClass("on"), $(t).text("关闭"), this.isCoffee && $.fn.coffee.stop()) : (this._audio.play(), this.el.addClass("on"), $(t).text("打开"), this.isCoffee && $.fn.coffee.start()), this.isPlay = !this.isPlay, t.className = "text", setTimeout(function () {
            t.className = "text hide"
        }, 1e3)
    }}, e.prototype = {init: function (t, e) {
        var n = {controls: "controls", preload: "none", src: $(this.el).data("src")}, i = $("<video></video>")[0], r = $('<div class="video_wrap"><a href="javascript:void(0);" class="video_close"></a></div>').appendTo($(".container")), s = this;
        for (var a in n)n.hasOwnProperty(a) && a in i && (i[a] = n[a]);
        r.append(i), $(this.el).on("click", function () {
            return"function" == typeof t && t(), $(this).hide(), /android/i.test(navigator.userAgent) ? setTimeout(function () {
                r.addClass("show"), setTimeout(function () {
                    "function" == typeof i.play && i.play()
                }, 500)
            }, 20) : (r.addClass("show"), i.play()), !1
        }), r.find(".video_close").on("click", function () {
            r.removeClass("show"), $(s.el).show(), "function" == typeof e && e()
        })
    }}, window.Player = t, window.Media = e
}(), function () {
    function t(t, r, s, a, o, c, u) {
        if (!(isNaN(a) || 1 > a)) {
            a |= 0;
            var l, h = t.getContext("2d");
            try {
                try {
                    l = h.getImageData(o, c, r, s)
                } catch (f) {
                    try {
                        netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"), l = h.getImageData(o, c, r, s)
                    } catch (f) {
                        return console.log("Cannot access local image"), void 0
                    }
                }
            } catch (f) {
                console.log("Cannot access image")
            }
            var d, p, m, v, g, y, w, x, b, k, C, _, T, E, $, S, P, j, I, N, A = l.data, O = a + a + 1, L = r - 1, D = s - 1, M = a + 1, F = M * (M + 1) / 2, z = new e, R = z;
            for (m = 1; O > m; m++)if (R = R.next = new e, m == M)var Z = R;
            R.next = z;
            var H = null, q = null;
            w = y = 0;
            var W = n[a], V = i[a];
            for (p = 0; s > p; p++) {
                for (E = $ = S = x = b = k = 0, C = M * (P = A[y]), _ = M * (j = A[y + 1]), T = M * (I = A[y + 2]), x += F * P, b += F * j, k += F * I, R = z, m = 0; M > m; m++)R.r = P, R.g = j, R.b = I, R = R.next;
                for (m = 1; M > m; m++)v = y + ((m > L ? L : m) << 2), x += (R.r = P = A[v]) * (N = M - m), b += (R.g = j = A[v + 1]) * N, k += (R.b = I = A[v + 2]) * N, E += P, $ += j, S += I, R = R.next;
                for (H = z, q = Z, d = 0; r > d; d++)A[y] = x * W >> V, A[y + 1] = b * W >> V, A[y + 2] = k * W >> V, x -= C, b -= _, k -= T, C -= H.r, _ -= H.g, T -= H.b, v = w + (L > (v = d + a + 1) ? v : L) << 2, E += H.r = A[v], $ += H.g = A[v + 1], S += H.b = A[v + 2], x += E, b += $, k += S, H = H.next, C += P = q.r, _ += j = q.g, T += I = q.b, E -= P, $ -= j, S -= I, q = q.next, y += 4;
                w += r
            }
            for (d = 0; r > d; d++) {
                for ($ = S = E = b = k = x = 0, y = d << 2, C = M * (P = A[y]), _ = M * (j = A[y + 1]), T = M * (I = A[y + 2]), x += F * P, b += F * j, k += F * I, R = z, m = 0; M > m; m++)R.r = P, R.g = j, R.b = I, R = R.next;
                for (g = r, m = 1; a >= m; m++)y = g + d << 2, x += (R.r = P = A[y]) * (N = M - m), b += (R.g = j = A[y + 1]) * N, k += (R.b = I = A[y + 2]) * N, E += P, $ += j, S += I, R = R.next, D > m && (g += r);
                for (y = d, H = z, q = Z, p = 0; s > p; p++)v = y << 2, A[v] = x * W >> V, A[v + 1] = b * W >> V, A[v + 2] = k * W >> V, x -= C, b -= _, k -= T, C -= H.r, _ -= H.g, T -= H.b, v = d + (D > (v = p + M) ? v : D) * r << 2, x += E += H.r = A[v], b += $ += H.g = A[v + 1], k += S += H.b = A[v + 2], H = H.next, C += P = q.r, _ += j = q.g, T += I = q.b, E -= P, $ -= j, S -= I, q = q.next, y += r
            }
            h.putImageData(l, o, c), u && u()
        }
    }

    function e() {
        this.r = 0, this.g = 0, this.b = 0, this.a = 0, this.next = null
    }

    var n = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259], i = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];
    $.fn.stackBlur = function (e) {
        return this.each(function () {
            e = $.extend({radius: 0, styles: {position: "absolute", left: 0, top: 0}}, e);
            var n = e.img, i = document.createElement("canvas"), r = this, s = n.width, a = n.height;
            i.width = s, i.height = a, $(r).append(i), $(i).css(e.styles);
            var o = i.getContext("2d");
            o.clearRect(0, 0, s, a), o.drawImage(n, 0, 0), 1 > e.radius || t(i, s, a, e.radius, 0, 0, e.callback)
        })
    }
}();
var imgLoad = function () {
    return function (t, e, n) {
        var i = new Image;
        return i.src = t, i.complete ? (e.call(i), void 0) : (i.onload = function () {
            e.call(this), i = i.onload = i.onerror = null
        }, i.onerror = n || function () {
        }, void 0)
    }
}();
$(function () {
    function t(t) {
        var e = t.css("background-image");
        return e ? e.replace(/^url\(|\)$/g, "") : ""
    }

    function e() {
        $("#swipe li").each(function (e) {
            if (e != config.swipeCur) {
                var n = t($(this).find("div").eq(0)), i = new Image, r = this;
                i.src = n, "blur" == $(this).data("role") && (i.onload = function () {
                    $(r).stackBlur({img: i, radius: 10, callback: function () {
                        $(r).data("role", "")
                    }})
                })
            }
        })
    }

    function n() {
        config.coverUrl ? imgLoad(config.coverUrl, function () {
            $("#lottery").lottery({coverType: "image", cover: config.coverUrl, width: 640, height: $(window).height(), callback: function (t) {
                t > 50 && !c && (c = !0, $(this).parent().removeClass("show").on("webkitTransitionEnd", function () {
                    s(), $(this).hide()
                }))
            }, success: function () {
                setTimeout(e, 500), $(this.conNode).addClass("show").on("webkitTransitionEnd", function () {
                    $("#swipe li").eq(config.swipeCur).show()
                })
            }})
        }, i) : i()
    }

    function i() {
        e(), s(), $("#lottery").hide()
    }

    function r(t) {
        var e = t.data("role");
        switch (e) {
            case"jump":
                config.endUrl && (location.href = config.endUrl);
                break;
            case"larger":
            case"fadeOutIn":
                t.children().eq(0).addClass("ani-" + e);
                break;
            case"mask":
                t.data("mask-init") || (o && (o.moving = !0), d.hide(), new Mask({circle1: t.find(".mask-circle-1"), circle2: t.find(".mask-circle-2"), circle3: t.find(".mask-circle-3"), mask: t, touchFinishCb: function () {
                    o && (o.moving = !1), t.data("mask-init", !0), d.show()
                }}).init())
        }
    }

    function s() {
        var t = $("#swipe li").length > 1, e = $("#swipe li");
        t ? o = new Swipe($("#swipe")[0], {cur: config.swipeCur, dir: config.swipeDir, preventLoop: config.endUrl, initSuccess: function () {
            a(t)
        }, success: function () {
            $('[class^="ani-"]').removeAttr("class"), r(e.eq(this.cur))
        }}) : (e.eq(0).show(), a(t)), r(e.eq(0))
    }

    function a(t) {
        config.coverUrl ? f._audio.play() : (f.isPlay = !1, $(f.el).removeClass("on")), $("#musicWrap").removeClass("f-hide"), t && (d.removeClass("f-hide").children().addClass("move"), config.endUrl && $("#arrowH span").eq(0).addClass("single").next().hide()), $('[data-role="video"]').each(function () {
            new Media(this, function () {
                f.isPlay && f._play()
            }, function () {
                f._play()
            })
        })
    }

    var o, c = !1, u = navigator.userAgent, l = $("#swipe li").eq(config.swipeCur), h = t(l.find("div").eq(0)), f = new Player($("#audioBtn"), $("#musicWrap")), d = $("#arrow" + ("vertical" == config.swipeDir ? "V" : "H"));
    $(document).one("touchstart", function (t) {
        "audioBtn" != t.target.id && (config.coverUrl ? /ipad/i.test(u) || (f._audio.play(), f._audio.pause()) : f._play())
    }), config.is_show_expire ? $('#swipe li[checkexpire="js-flag-normal"]').remove() : $('#swipe li[checkexpire="js-flag-expired"]').remove(), "blur" == l.data("role") ? imgLoad(h, function () {
        l.stackBlur({img: this, radius: 10, callback: function () {
            l.data("role", ""), n()
        }})
    }, n) : imgLoad(h, n, n);
    var p = $("#downloadMask");
    $(".links").each(function () {
        /itunes.apple.com/.test(this.href) && /(ipod|iphone|ipad).*micromessenger/i.test(u) && ($(this).on("click", function () {
            return p.show(), !1
        }), p.on("click", function () {
            $(this).hide()
        }))
    })
});